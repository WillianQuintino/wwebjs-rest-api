# Endpoints de Gerenciamento de Sess√£o

/sessions/{sessionId}/init:
  post:
    tags:
      - üîê Gerenciamento de Sess√£o
    summary: Inicializar sess√£o do WhatsApp
    description: |
      Cria e inicializa uma nova sess√£o do WhatsApp Web. Isso ir√° gerar um QR code que precisa ser escaneado com o aplicativo WhatsApp.

      **Fluxo**: INITIALIZING ‚Üí QR_CODE ‚Üí AUTHENTICATING ‚Üí READY
    parameters:
      - name: sessionId
        in: path
        required: true
        schema:
          type: string
        description: Identificador √∫nico para esta sess√£o
        example: minha-sessao
    responses:
      200:
        description: Sess√£o inicializada com sucesso
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ApiResponse'
      500:
        description: Falha na inicializa√ß√£o
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'

/sessions/{sessionId}:
  get:
    tags:
      - üîê Gerenciamento de Sess√£o
    summary: Obter status da sess√£o
    description: Recupera informa√ß√µes atuais da sess√£o incluindo status, disponibilidade do QR code e estado pronto
    parameters:
      - name: sessionId
        in: path
        required: true
        schema:
          type: string
    responses:
      200:
        description: Detalhes da sess√£o
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ApiResponse'
      404:
        description: Sess√£o n√£o encontrada
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ErrorResponse'
  delete:
    tags:
      - üîê Gerenciamento de Sess√£o
    summary: Destruir sess√£o
    description: Destr√≥i permanentemente a sess√£o e remove todos os dados associados
    parameters:
      - name: sessionId
        in: path
        required: true
        schema:
          type: string
    responses:
      200:
        description: Sess√£o destru√≠da com sucesso
      404:
        description: Sess√£o n√£o encontrada

/sessions/{sessionId}/qr/image:
  get:
    tags:
      - üì± Acesso ao QR Code
    summary: Obter QR code como imagem PNG
    description: Retorna o QR code como uma imagem PNG para exibi√ß√£o web
    parameters:
      - name: sessionId
        in: path
        required: true
        schema:
          type: string
    responses:
      200:
        description: Imagem PNG do QR code
        content:
          image/png:
            schema:
              type: string
              format: binary
      404:
        description: QR code n√£o dispon√≠vel

/sessions/{sessionId}/qr/svg:
  get:
    tags:
      - üì± Acesso ao QR Code
    summary: Obter QR code como SVG
    description: Retorna o QR code como gr√°fico vetorial escal√°vel (SVG) para design responsivo
    parameters:
      - name: sessionId
        in: path
        required: true
        schema:
          type: string
    responses:
      200:
        description: QR code SVG
        content:
          image/svg+xml:
            schema:
              type: string
      404:
        description: QR code n√£o dispon√≠vel

/sessions/{sessionId}/qr/ascii:
  get:
    tags:
      - üì± Acesso ao QR Code
    summary: Obter QR code como texto ASCII
    description: Retorna o QR code como arte ASCII para exibi√ß√£o em terminal/console
    parameters:
      - name: sessionId
        in: path
        required: true
        schema:
          type: string
    responses:
      200:
        description: Texto ASCII do QR code
        content:
          text/plain:
            schema:
              type: string
      404:
        description: QR code n√£o dispon√≠vel

/sessions:
  get:
    tags:
      - üîê Gerenciamento de Sess√£o
    summary: Listar todas as sess√µes
    description: Retorna lista de todas as sess√µes ativas
    responses:
      200:
        description: Lista de sess√µes
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ApiResponse'

/sessions/{sessionId}/logout:
  post:
    tags:
      - üîê Gerenciamento de Sess√£o
    summary: Deslogar sess√£o
    description: Desloga do WhatsApp Web mas mant√©m os dados da sess√£o
    parameters:
      - name: sessionId
        in: path
        required: true
        schema:
          type: string
    responses:
      200:
        description: Deslogado com sucesso
      404:
        description: Sess√£o n√£o encontrada

/sessions/{sessionId}/state:
  get:
    tags:
      - üîç Diagn√≥stico de Sess√£o
    summary: Obter estado da conex√£o WhatsApp
    description: Retorna informa√ß√µes detalhadas sobre o estado da conex√£o
    parameters:
      - name: sessionId
        in: path
        required: true
        schema:
          type: string
    responses:
      200:
        description: Estado da conex√£o
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ApiResponse'

/sessions/{sessionId}/battery:
  get:
    tags:
      - üîç Diagn√≥stico de Sess√£o
    summary: Obter status da bateria do telefone
    description: Retorna n√≠vel de bateria e status de carregamento do telefone conectado
    parameters:
      - name: sessionId
        in: path
        required: true
        schema:
          type: string
    responses:
      200:
        description: Status da bateria
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ApiResponse'
