# Endpoints de Mensagens

/sessions/{sessionId}/messages/send:
  post:
    tags:
      - 游눫 Mensagens
    summary: Enviar mensagem de texto
    description: Envia uma mensagem de texto para um chat (individual ou grupo)
    parameters:
      - name: sessionId
        in: path
        required: true
        schema:
          type: string
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/SendMessageDTO'
    responses:
      200:
        description: Mensagem enviada com sucesso
      400:
        description: Requisi칞칚o inv치lida
      404:
        description: Sess칚o n칚o encontrada ou n칚o est치 pronta

/sessions/{sessionId}/messages/send-media:
  post:
    tags:
      - 游눫 Mensagens
    summary: Enviar arquivo de m칤dia
    description: Envia imagem, v칤deo, 치udio ou documento (codificado em base64)
    parameters:
      - name: sessionId
        in: path
        required: true
        schema:
          type: string
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/SendMediaDTO'
    responses:
      200:
        description: M칤dia enviada com sucesso
      400:
        description: Dados de m칤dia inv치lidos

/sessions/{sessionId}/messages/send-location:
  post:
    tags:
      - 游눫 Mensagens
    summary: Enviar localiza칞칚o
    description: Envia coordenadas GPS com nome e endere칞o opcionais
    parameters:
      - name: sessionId
        in: path
        required: true
        schema:
          type: string
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/SendLocationDTO'
    responses:
      200:
        description: Localiza칞칚o enviada com sucesso

/sessions/{sessionId}/messages/send-poll:
  post:
    tags:
      - 游눫 Mensagens
    summary: Enviar enquete
    description: Envia enquete interativa com m칰ltiplas op칞칫es
    parameters:
      - name: sessionId
        in: path
        required: true
        schema:
          type: string
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/SendPollDTO'
    responses:
      200:
        description: Enquete enviada com sucesso

/sessions/{sessionId}/messages/react:
  post:
    tags:
      - 游눫 Mensagens
    summary: Reagir a mensagem
    description: Adiciona rea칞칚o emoji a uma mensagem
    parameters:
      - name: sessionId
        in: path
        required: true
        schema:
          type: string
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ReactToMessageDTO'
    responses:
      200:
        description: Rea칞칚o adicionada com sucesso

/sessions/{sessionId}/messages/forward:
  post:
    tags:
      - 游눫 Mensagens
    summary: Encaminhar mensagem
    description: Encaminha uma mensagem de um chat para outro
    parameters:
      - name: sessionId
        in: path
        required: true
        schema:
          type: string
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ForwardMessageDTO'
    responses:
      200:
        description: Mensagem encaminhada com sucesso

/sessions/{sessionId}/messages:
  delete:
    tags:
      - 游눫 Mensagens
    summary: Deletar mensagem
    description: Deleta uma mensagem para mim ou para todos
    parameters:
      - name: sessionId
        in: path
        required: true
        schema:
          type: string
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/DeleteMessageDTO'
    responses:
      200:
        description: Mensagem deletada com sucesso

/sessions/{sessionId}/messages/edit:
  put:
    tags:
      - 游눫 Mensagens
    summary: Editar mensagem
    description: Edita uma mensagem enviada anteriormente (dentro de 15 minutos)
    parameters:
      - name: sessionId
        in: path
        required: true
        schema:
          type: string
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/EditMessageDTO'
    responses:
      200:
        description: Mensagem editada com sucesso

/sessions/{sessionId}/messages/{chatId}:
  get:
    tags:
      - 游눫 Mensagens
    summary: Buscar mensagens do chat
    description: Recupera hist칩rico de mensagens de um chat espec칤fico
    parameters:
      - name: sessionId
        in: path
        required: true
        schema:
          type: string
      - name: chatId
        in: path
        required: true
        schema:
          type: string
      - name: limit
        in: query
        schema:
          type: number
          default: 50
    responses:
      200:
        description: Mensagens recuperadas com sucesso

/sessions/{sessionId}/messages/search:
  post:
    tags:
      - 游눫 Mensagens
    summary: Pesquisar mensagens
    description: Pesquisa por mensagens usando consulta de texto
    parameters:
      - name: sessionId
        in: path
        required: true
        schema:
          type: string
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/SearchMessagesDTO'
    responses:
      200:
        description: Resultados da pesquisa

/sessions/{sessionId}/messages/{chatId}/{messageId}/media:
  get:
    tags:
      - 游눫 Mensagens
    summary: Baixar m칤dia
    description: Baixa conte칰do de m칤dia de uma mensagem (retorna base64)
    parameters:
      - name: sessionId
        in: path
        required: true
        schema:
          type: string
      - name: chatId
        in: path
        required: true
        schema:
          type: string
      - name: messageId
        in: path
        required: true
        schema:
          type: string
    responses:
      200:
        description: Conte칰do de m칤dia (base64)
